{% extends "base.html" %}
{% load staticfiles %}

{% block title %}{% block head_title %}{% endblock head_title %}{% endblock title %}

{% block content %}
  <div class="row" id="detail">
    <div class="small-12 medium-8 large-8 small-centered medium-centered large-centered columns">
      <div class="slide-pane">
        <div class="pane-header"></div>
        <div class="slides">
          {% for slide in presentation.slide_set.all %}
          <div class="slide">{{ slide.markdown }}</div>
          {% endfor %}
        </div>
        <div class="controller">
          <div class="arrows">
            <a id="prev-btn"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>
            <a id="next-btn"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>
          </div>
          <div class="extra-commands">
            <a id="full-screen-btn"><i class="fa fa-arrows-alt" aria-hidden="true"></i></a>
          </div>
        </div>
      </div>
      <div class="presentation-info">
        <div class="presentation-title">
          {{ presentation.subject }}
          <div class="warp-list-views">
            <i class="fa fa-eye" aria-hidden="true"></i>
            {{ presentation.views }}
            Likes: {{ presentation.likes }}
          </div>

          <div>
            <button class="button primary" onclick="likePresentation({{ presentation.pk }})">Like</button>
            {% if presentation.author == request.user %}
              <a class="button primary" href="{% url "presentation:update" presentation.pk %}">Update</a>
            {% endif %}
          </div>
        </div>
        By <div class="presentation-author">
          <a>{{ presentation.author }}</a>
        </div>
        <br>
        Published <div class="presentation-published-date">
          {{ presentation.created }}
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
{% endblock %}

{% block extra_javascript %}
  <script src="{% static 'vendor/marked/marked.js' %}"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>
  <script type="text/javascript" src="{% static 'dist/js/resize-slides.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/mdElemsToHtmlElems.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/detail/index.min.js' %}"></script>
{% endblock %}
